<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>My Home Page</title>
  <link rel="stylesheet" href="../stylehome.css">
</head>

<body>
  <header></header>
  <main>
    <h1 id="main-heading">All Projects</h1>
    <p>On this page, you can watch all the active and past projects that have been held through the Transportation Administration.
      <br>If you want to watch a project's details, click on the <b><i>more</i></b> button.</p>
    <div class="sidebar">
      <iframe src="../../../Components/sidebar.html"></iframe>
    </div>


    <div class="centered-content">
      <a href="../Projects/Active Projects/Active_Projects.html" class="button" target="_parent">Active Projects</a>
      <a href="../Projects/Create New Project/stage1.html" class="button" target="_parent">Create New Project</a>
      <a href="../Projects/Previous Projects/Previous_projects.html" class="button" target="_parent">Past
        Projects</a>
    </div>

    <div style="overflow-x: auto;">
      <table style="width: 100%;">
        <thead>
          <tr>
            <th id="project_id">Project ID</th>
            <th id="const_id">Consultant ID</th>
            <th id="project_name">Project Name</th>
            <th id="project_status">Project Status</th>
            <th id="District">District</th>
            <th id="start_date">Start Date</th>
            <th id="project_duration(Month)">Project Duration (Months)</th>
            <th id="end_date">End Date</th>
            <th id="project_duration(Days)">Project Duration (Days)</th>
            <th id="Link_to_Project">Link to Project</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

    <script>
      function populateTable() {
        // Fetch the CSV file
        fetch('Projects.csv')
          .then(response => response.text())
          .then(data => {
            // Split the data into rows
            const rows = data.split('\n');

            // Get the table body element
            const tableBody = document.querySelector('tbody');

            // Iterate over the rows
            for (let i = 1; i < rows.length; i++) {
              // Split the row into cells
              const cells = rows[i].split(',');

              // Create a new table row
              const newRow = document.createElement('tr');

              // Iterate over the cells
              for (let j = 0; j < 10; j++) {
                // Create a new table cell
                const newCell = document.createElement('td');

                // Set the cell's text content to the cell value
                newCell.textContent = cells[j];

                // Append the cell to the row
                newRow.appendChild(newCell);
              }

              // Append the row to the table body
              tableBody.appendChild(newRow);
            }
          })
          .catch(error => {
            console.error('Error:', error);
          });
      }

      // Call the function to populate the table
      populateTable();
    </script>

  </main>
  <footer>
    <script src="../index.js"></script>
    <div class="sign-out">
      <button onclick="signOut()" class="button">Sign Out</button>
    </div>
  </footer>
</body>

</html>